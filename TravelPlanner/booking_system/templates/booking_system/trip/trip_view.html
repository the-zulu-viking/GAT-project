{% extends "base.html" %}

{% block body %}
<div class="container mt-5">
  <div class="card shadow-lg border-0">
    <div class="card-body">
      <h2 class="card-title mb-4">{{ trip.name }}</h2>

      <div class="row mb-3">
        <div class="col-md-6">
          <p><strong>Start Date:</strong> {{ trip.start_date }}</p>
        </div>
        <div class="col-md-6">
          <p><strong>End Date:</strong> {{ trip.end_date }}</p>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <p><strong>Duration:</strong> {{ trip.duration }} nights</p>
        </div>
        <div class="col-md-6">
          <p><strong>Number of Guests:</strong> {{ trip.number_of_guests }}</p>
        </div>
      </div>

      {% if trip.guests.exists %}
      <div class="mb-3">
        <p><strong>Guests:</strong></p>
        <ul class="list-group">
          {% for guest in trip.guests.all %}
          <li class="list-group-item">{{ guest }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}

      <hr>

      <div class="row mb-3">
        <div class="col-md-6">
          <p><strong>Generated By:</strong> {{ trip.generated }}</p>
        </div>
        <div class="col-md-6">
          {% if trip.agent %}
          <p><strong>Agent:</strong> {{ trip.agent }}</p>
          {% endif %}
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <p><strong>Payment Status:</strong>
            <span class="badge bg-info text-dark">{{ trip.payment_status }}</span>
          </p>
        </div>
        <div class="col-md-6">
          <p><strong>Trip Status:</strong>
            <span class="badge bg-primary">{{ trip.trip_status }}</span>
          </p>
        </div>
      </div>

      <div class="row mb-3">
        {% if trip.no_consultant %}
        <div class="col-md-6">
          <p><strong>Consultant (NO):</strong> {{ trip.no_consultant }}</p>
        </div>
        {% endif %}
        {% if trip.sa_consultant %}
        <div class="col-md-6">
          <p><strong>Consultant (SA):</strong> {{ trip.sa_consultant }}</p>
        </div>
        {% endif %}
      </div>

      {% if trip.note %}
      <hr>
      <div class="alert alert-secondary" role="alert">
        <strong>Note:</strong><br>{{ trip.note|linebreaks }}
      </div>
      {% endif %}

      
      <a href="{% url 'trips_overview' %}" class="btn btn-outline-secondary mt-4">← Back to Trips</a>
      
      <a href="{% url 'edit_trip' trip.id %}" class="btn btn-primary mt-4"> <i class="bi bi-pencil-square"> </i> Edit Trip</a>
    </div>
  </div>
</div>
{% endblock %}
